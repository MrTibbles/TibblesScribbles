var self=Slider=function(a){return console.info("New slider with target: "+a.target),this.opts={target:document.querySelector(a.target)||document.querySelector(".slider"),slideDuration:a.duration||500,easing:a.easing||"cubic-bezier(.25,.1,.25,1)",slideIndex:a.startSlide||0,inifinte:a.inifinte||!1,direction:a.direction.toUpperCase()||"X",scroll:a.scroll||!1,scrollBound:a.scrollBound||20,autoScroll:a.autoScroll||!1,autoScrollDelay:a.autoScrollDelay||11e3,draggable:a.draggable||!1},this.jimmy="ontouchend"in window?!0:!1,this.clickEvent="ontouchend"in window?"touchend":"click",this.startEvent=this.jimmy?"touchstart":"mousedown",this.moveEvent=this.jimmy?"touchmove":"mousemove",this.endEvent=this.jimmy?"touchend":"mouseup",self=this,this.init()};Slider.prototype={init:function(){return self.sliderContent=self.opts.target.querySelector(".slider-wrap"),self.slideSize="Y"===self.opts.direction?self.sliderContent.querySelector(".slide").offsetHeight:self.sliderContent.querySelector(".slide").offsetWidth,self.getCssPrefix(),this.countSlides(),self.opts.startSlide&&self.goToSlide(),self.opts.inifinte&&self.cloneSlides(),self.opts.draggable&&self.opts.target.classList.add("draggable"),self.opts.target.classList.add(self.opts.direction),self.scrolling=self.interacted=!1,this.attachUiEvents()},getCssPrefix:function(){var a=window.getComputedStyle(self.sliderContent,null),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];return console.info(b),a.getPropertyValue("-webkit-transform")?self.cssPrefix="-webkit-":a.getPropertyValue("-moz-transform")?self.cssPrefix="-moz-":a.getPropertyValue("-ms-transform")?self.cssPrefix="-ms-":a.getPropertyValue("-o-transform")?self.cssPrefix="-o-":self.cssPrefix=""},debounceEvent:function(a){function b(a){"function"==typeof d.onComplete&&d.onComplete(a,d.ele)}var c,d={eventName:!1,ele:!1,onComplete:!1,toWait:500};d.extendObj(d,a),d.ele.addEventListener(d.eventName,function(a){var e=a.currentTarget;clearTimeout(c),c=setTimeout(function(){b(e)},d.toWait)})},countSlides:function(){self.slides=self.sliderContent.querySelectorAll(".slide"),self.origSlideCount=self.slides.length},attachUiEvents:function(){self.navButtons=self.opts.target.querySelectorAll(".slider-navigation");for(var a=self.navButtons.length-1;a>=0;a-=1)self.navButtons[a].classList.add("available"),self.debounceEvent({eventName:self.clickEvent,ele:self.navButtons[a],toWait:200,onComplete:self.checkSlider});document.addEventListener("keyup",self.keyboardMove,!1),!self.opts.inifinte&&self.opts.target.querySelector(".slider-prev").classList.remove("available"),self.opts.scroll&&window.addEventListener("wheel",self.scrollMovement,!1),window.addEventListener("orientationchange",self.jumpToSlide,!1),window.addEventListener("resize",self.jumpToSlide,!1),self.jimmy||self.opts.draggable?(self.opts.target.addEventListener(self.startEvent,self.touchStart,!1),self.opts.target.addEventListener(self.moveEvent,self.touchMovement,!1),self.opts.target.addEventListener(self.endEvent,self.touchEnd,!1)):self.opts.autoScroll&&(self.autoScrollInterval=setInterval(self.doAutoScroll,self.opts.autoScrollDelay))},cloneSlides:function(a){var b=self.slides[self.origSlideCount-1].cloneNode(!0);lastSlide=self.slides[0].cloneNode(!0),self.sliderContent.insertBefore(b,self.slides[0]),self.sliderContent.appendChild(lastSlide),self.sliderContent.style[self.cssPrefix+"transform"]=self.getTranslateVal(self.slideSize),self.sliderContent.style.transform=self.getTranslateVal(self.slideSize),self.opts.slideIndex=1},doAutoScroll:function(){return self.interacted?clearInterval(self.autoScrollInterval):self.checkSlider("next")},keyboardMove:function(a){switch(a.keyCode){case 38:case 37:return self.checkSlider("prev");case 40:case 39:return self.checkSlider("next");default:return}},scrollMovement:function(a){if(!(self.scrolling||Math.abs(a.deltaY)<self.opts.scrollBound)){var b;return self.interacted=!0,a.wheelDelta?b=a.wheelDelta<0?"next":"prev":a.deltaY&&(b=a.deltaY>0?"next":"prev"),self.checkSlider(b)}},touchStart:function(a){self.scrolling||(self.opts.target.classList.add("dragging"),self.interacted=!0,self.startTouch=Math.floor(a.clientY)||Math.floor(a.touches[0].clientY))},touchMovement:function(a){self.endTouch=Math.floor(a.clientY)||Math.floor(a.touches[0].clientY)},touchEnd:function(a){if(self.startTouch&&self.endTouch){var b=self.startTouch>self.endTouch?"next":"prev";return self.opts.target.classList.remove("dragging"),self.startTouch=0,self.endTouch=0,self.checkSlider(b)}},checkSlider:function(a){var b="string"==typeof a?a:a.attributes["data-direction"].value;if("string"!=typeof a&&clearInterval(self.autoScrollInterval),!self.scrolling&&("string"==typeof a||a.classList.contains("available"))){if(self.scrolling=!0,self.sliderContent.style[self.cssPrefix+"transition"]="",self.opts.slideIndex="next"===b?self.opts.slideIndex+=1:self.opts.slideIndex-=1,!self.opts.inifinte)if(self.opts.slideIndex<=0)self.opts.target.querySelector(".slider-prev").classList.remove("available"),self.opts.slideIndex=0;else if(self.opts.slideIndex>=self.origSlideCount-1)self.opts.target.querySelector(".slider-next").classList.remove("available"),self.opts.slideIndex=self.origSlideCount-1;else if(self.opts.slideIndex>=0&&self.opts.slideIndex<self.origSlideCount-1)for(var c=self.navButtons.length-1;c>=0;c-=1)self.navButtons[c].classList.add("available");return self.moveSlider(b)}},jumpToSlide:function(a){self.slideSize="Y"===self.opts.direction?self.sliderContent.querySelector(".slide").offsetHeight:self.sliderContent.querySelector(".slide").offsetWidth,self.sliderContent.style[self.cssPrefix+"transition"]="",self.sliderContent.style.transition="",self.sliderContent.style[self.cssPrefix+"transform"]=self.getTranslateVal(self.slideSize*self.opts.slideIndex),self.sliderContent.style.transform=self.getTranslateVal(self.slideSize*self.opts.slideIndex)},moveSlider:function(a){self.sliderContent.style[self.cssPrefix+"transition"]=self.cssPrefix+"transform "+self.opts.slideDuration+"ms "+self.opts.easing,self.sliderContent.style.transition=self.cssPrefix+"transform "+self.opts.slideDuration+"ms "+self.opts.easing,self.sliderContent.style[self.cssPrefix+"transform"]=self.getTranslateVal(self.slideSize*self.opts.slideIndex),self.sliderContent.style.transform=self.getTranslateVal(self.slideSize*self.opts.slideIndex),setTimeout(self.slideComplete,self.opts.slideDuration/3)},slideComplete:function(){self.slides=self.sliderContent.querySelectorAll(".slide"),self.opts.inifinte?setTimeout(self.checkInfinitePosition,self.opts.slideDuration):self.addActiveClass()},addActiveClass:function(){for(var a=self.slides.length-1;a>=0;a-=1)self.slides[a].classList.remove("current-slide");var b=self.opts.slideIndex-1<0?0:self.opts.slideIndex;return self.slides[b].classList.add("current-slide"),self.scrolling=!1},getTranslateVal:function(a){return"Y"!==self.opts.direction?"translate3d(-"+a+"px, 0, 0)":"translate3d(0, -"+a+"px, 0)"},checkInfinitePosition:function(){return self.sliderContent.style[self.cssPrefix+"transition"]="",self.sliderContent.style.transition="",self.opts.slideIndex<=0?(self.opts.slideIndex=self.origSlideCount,self.sliderContent.style[self.cssPrefix+"transform"]=self.getTranslateVal(self.slideSize*self.origSlideCount-1),self.sliderContent.style.transform=self.getTranslateVal(self.slideSize*self.origSlideCount-1)):self.opts.slideIndex>=self.slides.length-1&&(self.opts.slideIndex=1,self.sliderContent.style[self.cssPrefix+"transform"]=self.getTranslateVal(self.slideSize),self.sliderContent.style.transform=self.getTranslateVal(self.slideSize)),self.addActiveClass()}},Object.prototype.extendObj=function(a,b){for(var c in a)for(var d in b)c===d&&(a[c]=b[d]);return a};