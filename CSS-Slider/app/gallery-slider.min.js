var self=Slider=function(e){return console.info("New slider with target: "+e.target),this.opts={target:document.querySelector(e.target)||document.querySelector(".slider"),slideDuration:e.duration||500,easing:e.easing||"cubic-bezier(.25,.1,.25,1)",slideIndex:e.startSlide||0,inifinte:e.inifinte||!1,direction:e.direction.toUpperCase()||"X",scroll:e.scroll||!1,scrollBound:e.scrollBound||20,autoScroll:e.autoScroll||!1,autoScrollDelay:e.autoScrollDelay||11e3,draggable:e.draggable||!1},this.jimmy="ontouchend"in window?!0:!1,this.clickEvent="ontouchend"in window?"touchend":"click",this.startEvent=this.jimmy?"touchstart":"mousedown",this.moveEvent=this.jimmy?"touchmove":"mousemove",this.endEvent=this.jimmy?"touchend":"mouseup",self=this,this.init()};Slider.prototype={init:function(){return self.sliderContent=self.opts.target.querySelector(".slider-wrap"),self.slideSize="Y"===self.opts.direction?self.sliderContent.querySelector(".slide").offsetHeight:self.sliderContent.querySelector(".slide").offsetWidth,self.getCssPrefix(),this.countSlides(),self.opts.startSlide&&self.goToSlide(),self.opts.inifinte&&self.cloneSlides(),self.opts.draggable&&self.opts.target.classList.add("draggable"),self.opts.target.classList.add(self.opts.direction),self.scrolling=self.interacted=!1,this.attachUiEvents()},getCssPrefix:function(){var e=window.getComputedStyle(self.sliderContent,null),s=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return console.info(s),self.cssPrefix=e.getPropertyValue("-webkit-transform")?"-webkit-":e.getPropertyValue("-moz-transform")?"-moz-":e.getPropertyValue("-ms-transform")?"-ms-":e.getPropertyValue("-o-transform")?"-o-":""},debounceEvent:function(e){function s(e){"function"==typeof l.onComplete&&l.onComplete(e,l.ele)}var t,l={eventName:!1,ele:!1,onComplete:!1,toWait:500};l.extendObj(l,e),l.ele.addEventListener(l.eventName,function(e){var n=e.currentTarget;clearTimeout(t),t=setTimeout(function(){s(n)},l.toWait)})},countSlides:function(){self.slides=self.sliderContent.querySelectorAll(".slide"),self.origSlideCount=self.slides.length},attachUiEvents:function(){self.navButtons=self.opts.target.querySelectorAll(".slider-navigation");for(var e=self.navButtons.length-1;e>=0;e-=1)self.navButtons[e].classList.add("available"),self.debounceEvent({eventName:self.clickEvent,ele:self.navButtons[e],toWait:200,onComplete:self.checkSlider});document.addEventListener("keyup",self.keyboardMove,!1),!self.opts.inifinte&&self.opts.target.querySelector(".slider-prev").classList.remove("available"),self.opts.scroll&&window.addEventListener("wheel",self.scrollMovement,!1),window.addEventListener("orientationchange",self.jumpToSlide,!1),window.addEventListener("resize",self.jumpToSlide,!1),self.jimmy||self.opts.draggable?(self.opts.target.addEventListener(self.startEvent,self.touchStart,!1),self.opts.target.addEventListener(self.moveEvent,self.touchMovement,!1),self.opts.target.addEventListener(self.endEvent,self.touchEnd,!1)):self.opts.autoScroll&&(self.autoScrollInterval=setInterval(self.doAutoScroll,self.opts.autoScrollDelay))},cloneSlides:function(){var e=self.slides[self.origSlideCount-1].cloneNode(!0);lastSlide=self.slides[0].cloneNode(!0),self.sliderContent.insertBefore(e,self.slides[0]),self.sliderContent.appendChild(lastSlide),self.sliderContent.style[self.cssPrefix+"transform"]=self.getTranslateVal(self.slideSize),self.sliderContent.style.transform=self.getTranslateVal(self.slideSize),self.opts.slideIndex=1},doAutoScroll:function(){return self.interacted?clearInterval(self.autoScrollInterval):self.checkSlider("next")},keyboardMove:function(e){switch(e.keyCode){case 38:case 37:return self.checkSlider("prev");case 40:case 39:return self.checkSlider("next");default:return}},scrollMovement:function(e){if(!(self.scrolling||Math.abs(e.deltaY)<self.opts.scrollBound)){var s;return self.interacted=!0,e.wheelDelta?s=e.wheelDelta<0?"next":"prev":e.deltaY&&(s=e.deltaY>0?"next":"prev"),self.checkSlider(s)}},touchStart:function(e){self.scrolling||(self.opts.target.classList.add("dragging"),self.interacted=!0,self.startTouch=Math.floor(e.clientY)||Math.floor(e.touches[0].clientY))},touchMovement:function(e){self.endTouch=Math.floor(e.clientY)||Math.floor(e.touches[0].clientY)},touchEnd:function(){if(self.startTouch&&self.endTouch){var e=self.startTouch>self.endTouch?"next":"prev";return self.opts.target.classList.remove("dragging"),self.startTouch=0,self.endTouch=0,self.checkSlider(e)}},checkSlider:function(e){var s="string"==typeof e?e:e.attributes["data-direction"].value;if("string"!=typeof e&&clearInterval(self.autoScrollInterval),!self.scrolling&&("string"==typeof e||e.classList.contains("available"))){if(self.scrolling=!0,self.sliderContent.style[self.cssPrefix+"transition"]="",self.opts.slideIndex="next"===s?self.opts.slideIndex+=1:self.opts.slideIndex-=1,!self.opts.inifinte)if(self.opts.slideIndex<=0)self.opts.target.querySelector(".slider-prev").classList.remove("available"),self.opts.slideIndex=0;else if(self.opts.slideIndex>=self.origSlideCount-1)self.opts.target.querySelector(".slider-next").classList.remove("available"),self.opts.slideIndex=self.origSlideCount-1;else if(self.opts.slideIndex>=0&&self.opts.slideIndex<self.origSlideCount-1)for(var t=self.navButtons.length-1;t>=0;t-=1)self.navButtons[t].classList.add("available");return self.moveSlider(s)}},jumpToSlide:function(){self.slideSize="Y"===self.opts.direction?self.sliderContent.querySelector(".slide").offsetHeight:self.sliderContent.querySelector(".slide").offsetWidth,self.sliderContent.style[self.cssPrefix+"transition"]="",self.sliderContent.style.transition="",self.sliderContent.style[self.cssPrefix+"transform"]=self.getTranslateVal(self.slideSize*self.opts.slideIndex),self.sliderContent.style.transform=self.getTranslateVal(self.slideSize*self.opts.slideIndex)},moveSlider:function(){self.sliderContent.style[self.cssPrefix+"transition"]=self.cssPrefix+"transform "+self.opts.slideDuration+"ms "+self.opts.easing,self.sliderContent.style.transition=self.cssPrefix+"transform "+self.opts.slideDuration+"ms "+self.opts.easing,self.sliderContent.style[self.cssPrefix+"transform"]=self.getTranslateVal(self.slideSize*self.opts.slideIndex),self.sliderContent.style.transform=self.getTranslateVal(self.slideSize*self.opts.slideIndex),setTimeout(self.slideComplete,self.opts.slideDuration/3)},slideComplete:function(){self.slides=self.sliderContent.querySelectorAll(".slide"),self.opts.inifinte?setTimeout(self.checkInfinitePosition,self.opts.slideDuration):self.addActiveClass()},addActiveClass:function(){for(var e=self.slides.length-1;e>=0;e-=1)self.slides[e].classList.remove("current-slide");var s=self.opts.slideIndex-1<0?0:self.opts.slideIndex;return self.slides[s].classList.add("current-slide"),self.scrolling=!1},getTranslateVal:function(e){return"Y"!==self.opts.direction?"translate3d(-"+e+"px, 0, 0)":"translate3d(0, -"+e+"px, 0)"},checkInfinitePosition:function(){return self.sliderContent.style[self.cssPrefix+"transition"]="",self.sliderContent.style.transition="",self.opts.slideIndex<=0?(self.opts.slideIndex=self.origSlideCount,self.sliderContent.style[self.cssPrefix+"transform"]=self.getTranslateVal(self.slideSize*self.origSlideCount-1),self.sliderContent.style.transform=self.getTranslateVal(self.slideSize*self.origSlideCount-1)):self.opts.slideIndex>=self.slides.length-1&&(self.opts.slideIndex=1,self.sliderContent.style[self.cssPrefix+"transform"]=self.getTranslateVal(self.slideSize),self.sliderContent.style.transform=self.getTranslateVal(self.slideSize)),self.addActiveClass()}},Object.prototype.extendObj=function(e,s){for(var t in e)for(var l in s)t===l&&(e[t]=s[l]);return e};